<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Challenge 2 Juego Ahorcado | Oracle Alura</title>
        <link rel="stylesheet" href="./index.css">        
        
    </head>
    <body>
        <header>            
            <label class="logo" title="Alura Challenge 02 - Juego del Ahorcado tema Riddler DC">a</label>
        </header>
        <div class="tableroJuego">
            <div id="alerta" class="fin-juego alert">
                <span class="closebtn" onclick="this.parentElement.style.display='none';">&times;</span> 
                <label id="lblMensaje"></label>
            </div>
            <div id="msjFin" class="fin-juego">Fin del Juego<span class="riddle">?</span></div>
            <div class="hombre-ahorcado">
                <img id="hombre" alt="hombre-ahorcado" />
            </div>        
            <div class="adivinado"></div>
            <div class="errado"></div>
            <form class="botones" action="javascript:void(0)">
                <input type="button" class="boton" value="Nuevo Juego" onclick="nuevoJuego()"/>
                <input type="button" class="boton" value="Desistir" onclick="rendirse()"/>
            </form>
        </div>
        <div class="configJuego">            
            <form class="botones" action="javascript:void(0)">
                <input type="button" class="boton" value="Iniciar Juego" onclick="iniciarJuego()"/>
                <br/>
                <br/>
                <input type="button" class="boton" value="Agregar nueva palabra" onclick="agregar()"/>
            </form>
        </div>
        <div class="agregarPalabra">            
            <form class="botones" action="javascript:void(0)">   
                <input type="text" id="txtTexto" title="Palabra Secreta" placeholder="Ingrese una Palabra" minlength="3" maxlength="13" value="">             
                <br/>
                <span><strong class="info">i</strong>&nbsp;Máximo 13 letras y mínimo 3</span>                
                <br/>
                <br/>
                <br/>                
                <br/>
                <input type="button" class="boton" value="Guardar y Empezar Juego" onclick="nuevaPalabra(txtTexto.value)"/>
                <input type="button" class="boton" value="Cancelar" onclick="cancPalabra()"/>
            </form>
        </div>
        <script src="./ahorcado.js"></script>
        <script type="text/javascript">
            //Validar que solo se permiten letras mayusculas y no caracteres ni #
            //const patternL = /[^A-ZÑ]/g;
            function validaLetras(evento){
                const { target, data } = evento;
                const pattern = /[^A-ZÑ]/g;
                if(data) {
                    //console.log(data);
                    if(pattern.test(data)){
                        let value = target.value;
                        //value.toUpperCase();
                        target.value = value.substring(0, value.length - 1).toUpperCase();
                    }
                }
            }

            //load cargar el inicio del juego            
            var inicial = document.querySelector(".configJuego");
            //console.log(inicial);
            inicial.classList.add('mostrar');
            //leer la entrada de una palabras
            var ingresaPalabra = document.querySelector("#txtTexto");
            ingresaPalabra.oninput = validaLetras;

        </script>
    </body>
    <footer>
        <p>Author: MJ<br>
    </footer>
</html>